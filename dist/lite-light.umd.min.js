(function(d,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(d=typeof globalThis<"u"?globalThis:d||self,c(d.LiteLight={}))})(this,function(d){"use strict";const c={};let y=0,p=0,L=0,x=0,f=0,h=!1;function g(e){return c[e]||(c[e]=new Image,c[e].src=e),c[e]}function I(){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",document.body.style.overflowY="scroll"}function Y(){const e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflowY="",window.scrollTo(0,parseInt(e||"0")*-1)}function w(e={}){const i={imageSelector:e.imageSelector||"img[data-lightbox]",imageUrlAttribute:e.imageUrlAttribute||"data-lightbox",lightboxClass:e.lightboxClass||"lite-light",swipeThreshold:e.swipeThreshold||50,fadeAnimationDuration:e.fadeAnimationDuration||150,...e};document.querySelector(`.${i.lightboxClass}`)||k(i.lightboxClass),document.addEventListener("click",m=>{if(m.target.tagName!=="IMG"||!m.target.hasAttribute(i.imageUrlAttribute))return;const a=Array.from(document.querySelectorAll(i.imageSelector));let l=a.findIndex(t=>t===m.target);const n=document.querySelector(`.${i.lightboxClass}`),s=n.querySelector("img");function A(t){const o=(t-1+a.length)%a.length,r=(t+1)%a.length;g(a[o].getAttribute(i.imageUrlAttribute)),g(a[r].getAttribute(i.imageUrlAttribute))}function u(t){l=(t+a.length)%a.length;const o=a[l].getAttribute(i.imageUrlAttribute);g(o),s.classList.add("lite-light-fade-out"),s.addEventListener("animationend",function r(){s.src=o,s.classList.remove("lite-light-fade-out"),s.classList.add("lite-light-fade-in"),A(l),s.addEventListener("animationend",function(){s.classList.remove("lite-light-fade-in")},{once:!0}),s.removeEventListener("animationend",r)},{once:!0})}function T(t){if(t.length<2)return 0;const o=t[0],r=t[1];return Math.sqrt(Math.pow(r.screenX-o.screenX,2)+Math.pow(r.screenY-o.screenY,2))}function E(t){t.touches.length===1?(y=t.touches[0].screenX,L=t.touches[0].screenY,h=!1):t.touches.length===2&&(f=T(t.touches),h=!0)}function S(t){if(t.touches.length===2){h=!0;const o=T(t.touches);Math.abs(o-f)>50&&(h=!0)}}function M(t){if(t.changedTouches.length===1&&!h&&t.touches.length===0){p=t.changedTouches[0].screenX,x=t.changedTouches[0].screenY;const o=p-y,r=x-L;Math.abs(o)>Math.abs(r)&&Math.abs(o)>i.swipeThreshold&&(u(o>0?l-1:l+1),t.stopPropagation())}t.touches.length===0&&(h=!1,f=0)}function b(t){t.key==="ArrowLeft"?(u(l-1),t.preventDefault()):t.key==="ArrowRight"?(u(l+1),t.preventDefault()):t.key==="Escape"&&(v(),t.preventDefault())}n.style.display="flex",g(a[l].getAttribute(i.imageUrlAttribute)),A(l),s.src=a[l].getAttribute(i.imageUrlAttribute),s.classList.add("lite-light-fade-in"),I(),s.addEventListener("animationend",()=>{s.classList.remove("lite-light-fade-in")},{once:!0}),n.removeEventListener("touchstart",E),n.removeEventListener("touchmove",S),n.removeEventListener("touchend",M),n.addEventListener("touchstart",E),n.addEventListener("touchmove",S),n.addEventListener("touchend",M),document.removeEventListener("keydown",b),document.addEventListener("keydown",b),n.querySelector(".lite-light-prev").onclick=t=>{t.stopPropagation(),u(l-1)},n.querySelector(".lite-light-next").onclick=t=>{t.stopPropagation(),u(l+1)};function v(){n.style.display="none",Y(),document.removeEventListener("keydown",b)}n.querySelector(".lite-light-close").onclick=t=>{t.stopPropagation(),v()},n.onclick=()=>{v()}})}function k(e){const i=`
    <div class="${e}">
      <div class="lite-light-prev lite-light-button">
        <span class="lite-light-arrow lite-light-left"></span>
      </div>
      <img style="max-width: 90%; max-height: 90%;" />
      <div class="lite-light-next lite-light-button">
        <span class="lite-light-arrow lite-light-right"></span>
      </div>
      <div class="lite-light-close lite-light-button">
        <span class="lite-light-bar"></span>
        <span class="lite-light-bar"></span>
      </div>
    </div>
  `;document.body.insertAdjacentHTML("beforeend",i)}function D(e){w(e)}d.init=D,d.initLiteLight=w,Object.defineProperty(d,Symbol.toStringTag,{value:"Module"})});
