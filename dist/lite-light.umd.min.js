(function(r,s){typeof exports=="object"&&typeof module<"u"?s(exports):typeof define=="function"&&define.amd?define(["exports"],s):(r=typeof globalThis<"u"?globalThis:r||self,s(r.LiteLight={}))})(this,function(r){"use strict";const s={};let b=0,y=0;function g(e){return s[e]||(s[e]=new Image,s[e].src=e),s[e]}function A(){const e=window.scrollY;document.body.style.position="fixed",document.body.style.top=`-${e}px`,document.body.style.width="100%",document.body.style.overflowY="scroll"}function w(){const e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.style.width="",document.body.style.overflowY="",window.scrollTo(0,parseInt(e||"0")*-1)}function p(e={}){const i={imageSelector:e.imageSelector||"img[data-lightbox]",imageUrlAttribute:e.imageUrlAttribute||"data-lightbox",lightboxClass:e.lightboxClass||"lite-light",swipeThreshold:e.swipeThreshold||50,fadeAnimationDuration:e.fadeAnimationDuration||150,...e};document.querySelector(`.${i.lightboxClass}`)||S(i.lightboxClass),document.addEventListener("click",u=>{if(u.target.tagName!=="IMG"||!u.target.hasAttribute(i.imageUrlAttribute))return;const l=Array.from(document.querySelectorAll(i.imageSelector));let n=l.findIndex(t=>t===u.target);const a=document.querySelector(`.${i.lightboxClass}`),o=a.querySelector("img");function v(t){const d=(t-1+l.length)%l.length,f=(t+1)%l.length;g(l[d].getAttribute(i.imageUrlAttribute)),g(l[f].getAttribute(i.imageUrlAttribute))}function c(t){n=(t+l.length)%l.length;const d=l[n].getAttribute(i.imageUrlAttribute);g(d),o.classList.add("lite-light-fade-out"),o.addEventListener("animationend",function f(){o.src=d,o.classList.remove("lite-light-fade-out"),o.classList.add("lite-light-fade-in"),v(n),o.addEventListener("animationend",function(){o.classList.remove("lite-light-fade-in")},{once:!0}),o.removeEventListener("animationend",f)},{once:!0})}function L(t){b=t.changedTouches[0].screenX}function x(t){y=t.changedTouches[0].screenX;const d=y-b;Math.abs(d)>i.swipeThreshold&&(c(d>0?n-1:n+1),t.stopPropagation())}function h(t){t.key==="ArrowLeft"?(c(n-1),t.preventDefault()):t.key==="ArrowRight"?(c(n+1),t.preventDefault()):t.key==="Escape"&&(m(),t.preventDefault())}a.style.display="flex",g(l[n].getAttribute(i.imageUrlAttribute)),v(n),o.src=l[n].getAttribute(i.imageUrlAttribute),o.classList.add("lite-light-fade-in"),A(),o.addEventListener("animationend",()=>{o.classList.remove("lite-light-fade-in")},{once:!0}),a.removeEventListener("touchstart",L),a.removeEventListener("touchend",x),a.addEventListener("touchstart",L),a.addEventListener("touchend",x),document.removeEventListener("keydown",h),document.addEventListener("keydown",h),a.querySelector(".lite-light-prev").onclick=t=>{t.stopPropagation(),c(n-1)},a.querySelector(".lite-light-next").onclick=t=>{t.stopPropagation(),c(n+1)};function m(){a.style.display="none",w(),document.removeEventListener("keydown",h)}a.querySelector(".lite-light-close").onclick=t=>{t.stopPropagation(),m()},a.onclick=()=>{m()}})}function S(e){const i=`
    <div class="${e}">
      <div class="lite-light-prev lite-light-button">
        <span class="lite-light-arrow lite-light-left"></span>
      </div>
      <img style="max-width: 90%; max-height: 90%;" />
      <div class="lite-light-next lite-light-button">
        <span class="lite-light-arrow lite-light-right"></span>
      </div>
      <div class="lite-light-close lite-light-button">
        <span class="lite-light-bar"></span>
        <span class="lite-light-bar"></span>
      </div>
    </div>
  `;document.body.insertAdjacentHTML("beforeend",i)}function E(e){p(e)}r.init=E,r.initLiteLight=p,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});
